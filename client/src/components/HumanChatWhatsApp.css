/* CSS Específico para HumanChat - Layout WhatsApp Web Dark */

/* Cores exatas do WhatsApp Web Dark */
:root {
  --wa-dark-bg: #111b21;
  --wa-dark-secondary: #202c33;
  --wa-dark-tertiary: #2a3942;
  --wa-chat-bg: #0b141a;
  --wa-panel-bg: #111b21;
  --wa-sent-msg: #005c4b;
  --wa-received-msg: #202c33;
  --wa-text-primary: #e9edef;
  --wa-text-secondary: #8696a0;
  --wa-text-tertiary: #667781;
  --wa-icon-primary: #aebac1;
  --wa-icon-secondary: #8696a0;
  --wa-border: #222d34;
  --wa-hover: #2a3942;
  --wa-green: #00a884;
  --wa-green-dark: #008069;
  --wa-blue: #53bdeb;
  --wa-red: #ff6b6b;
  --wa-yellow: #ffd93d;
}

/* Container principal */
.human-chat-container {
  background: var(--wa-dark-bg) !important;
  color: var(--wa-text-primary) !important;
  font-family: 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif !important;
  height: 100vh !important;
  overflow: hidden !important;
}

/* Mobile header */
.mobile-chat-header {
  background: var(--wa-panel-bg) !important;
  border-bottom: 1px solid var(--wa-border) !important;
  padding: 0.75rem 1rem !important;
  color: var(--wa-text-primary) !important;
}

.mobile-back-btn {
  background: none !important;
  border: none !important;
  color: var(--wa-text-primary) !important;
  font-size: 0.9rem !important;
  padding: 0.5rem 0 !important;
  cursor: pointer !important;
}

.mobile-chat-title {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
  font-size: 1rem !important;
  font-weight: 500 !important;
  color: var(--wa-text-primary) !important;
}

/* Layout do chat */
.chat-layout {
  display: flex !important;
  height: 100vh !important;
  background: var(--wa-dark-bg) !important;
}

.chat-layout.mobile {
  flex-direction: column !important;
}

/* Sidebar dos chats */
.chat-sidebar {
  width: 400px !important;
  background: var(--wa-panel-bg) !important;
  border-right: 1px solid var(--wa-border) !important;
  display: flex !important;
  flex-direction: column !important;
  height: 100vh !important;
}

.chat-sidebar.collapsed {
  width: 80px !important;
}

.chat-sidebar.mobile-hidden {
  display: none !important;
}

/* Header compacto do operador */
.chat-header-compact {
    background: var(--wa-dark-secondary) !important;
    padding: 0.51rem !important;
    border-bottom: 1px solid var(--wa-border) !important;
    border-right: 1px solid #192328;
}

.operator-info-compact {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
}

.operator-avatar {
  width: 40px !important;
  height: 40px !important;
  background: var(--wa-green) !important;
  border-radius: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  color: white !important;
  font-weight: 600 !important;
  font-size: 1rem !important;
}

.operator-details {
  flex: 1 !important;
}

.operator-name {
  font-size: 1rem !important;
  font-weight: 500 !important;
  color: var(--wa-text-primary) !important;
  margin-bottom: 0.25rem !important;
}

.operator-status {
  font-size: 0.8rem !important;
  color: var(--wa-text-secondary) !important;
}

.unread-summary {
  color: var(--wa-green) !important;
  font-weight: 500 !important;
}

/* Barra de busca */
.search-bar {
  padding: 0.75rem 1rem !important;
  background: var(--wa-panel-bg) !important;
  border-bottom: 1px solid var(--wa-border) !important;
}

.search-container {
  position: relative !important;
}

.search-input {
  width: 100% !important;
  padding: 0.75rem 1rem 0.75rem 3rem !important;
  background: var(--wa-dark-secondary) !important;
  border: none !important;
  border-radius: 8px !important;
  color: var(--wa-text-primary) !important;
  font-size: 0.9rem !important;
  outline: none !important;
}

.search-input::placeholder {
  color: var(--wa-text-tertiary) !important;
}

.search-icon {
  position: absolute !important;
  left: 1rem !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  color: var(--wa-icon-secondary) !important;
}

/* Filtros de status */
.status-filters-top {
  background: var(--wa-panel-bg) !important;
  padding: 0.5rem 1rem !important;
  border-bottom: 1px solid var(--wa-border) !important;
}

.filter-row {
  display: flex !important;
  gap: 0.5rem !important;
  margin-bottom: 0.5rem !important;
}

.filter-btn-compact {
  background: var(--wa-dark-secondary) !important;
  border: none !important;
  padding: 0.5rem 0.75rem !important;
  border-radius: 20px !important;
  color: var(--wa-text-secondary) !important;
  font-size: 0.8rem !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  white-space: nowrap !important;
}

.filter-btn-compact:hover {
  background: var(--wa-hover) !important;
}

.filter-btn-compact.active {
  background: var(--wa-green) !important;
  color: white !important;
}

/* Lista de chats */
.chat-list {
  flex: 1 !important;
  overflow-y: auto !important;
  background: var(--wa-panel-bg) !important;
}

.chat-item-compact {
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
  padding: 0.75rem 1rem !important;
  cursor: pointer !important;
  border-bottom: 1px solid var(--wa-border) !important;
  transition: background 0.15s ease !important;
}

.chat-item-compact:hover {
  background: var(--wa-hover) !important;
}

.chat-item-compact.selected {
  background: var(--wa-dark-secondary) !important;
}

.chat-item-compact.has-new-message {
  background: rgba(0, 168, 132, 0.1) !important;
}

.chat-avatar-compact {
  position: relative !important;
  width: 49px !important;
  height: 49px !important;
  background: var(--wa-dark-tertiary) !important;
  border-radius: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  color: var(--wa-icon-primary) !important;
  flex-shrink: 0 !important;
}

.status-circle {
  position: absolute !important;
  bottom: 0 !important;
  right: 0 !important;
  width: 12px !important;
  height: 12px !important;
  border-radius: 50% !important;
  border: 2px solid var(--wa-panel-bg) !important;
}

.status-circle.status-pending {
  background: var(--wa-yellow) !important;
}

.status-circle.status-active {
  background: var(--wa-green) !important;
}

.status-circle.status-waiting_payment {
  background: #ff9500 !important;
}

.status-circle.status-paid {
  background: var(--wa-blue) !important;
}

.status-circle.status-finished {
  background: var(--wa-red) !important;
}

.status-circle.status-transfer_pending {
  background: #8b5cf6 !important;
}

.chat-info-compact {
  flex: 1 !important;
  min-width: 0 !important;
}

.chat-header-row {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  margin-bottom: 0.25rem !important;
}

.chat-name-compact {
  font-size: 1rem !important;
  font-weight: 500 !important;
  color: var(--wa-text-primary) !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}

.chat-content-row {
  display: flex !important;
  justify-content: space-between !important;
  align-items: flex-end !important;
  gap: 0.5rem !important;
}

.chat-preview-compact {
  font-size: 0.85rem !important;
  color: var(--wa-text-secondary) !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  flex: 1 !important;
}

.status-indicator-compact {
  display: flex !important;
  flex-direction: column !important;
  align-items: flex-end !important;
  gap: 0.25rem !important;
}

.chat-time-compact {
  font-size: 0.75rem !important;
  color: var(--wa-text-tertiary) !important;
  white-space: nowrap !important;
}

.unread-badge {
  background: var(--wa-green) !important;
  color: white !important;
  font-size: 0.7rem !important;
  font-weight: 600 !important;
  padding: 0.15rem 0.4rem !important;
  border-radius: 10px !important;
  min-width: 20px !important;
  text-align: center !important;
}

.new-message-indicator {
  width: 8px !important;
  height: 8px !important;
  background: var(--wa-green) !important;
  border-radius: 50% !important;
}

.operator-assignment {
  font-size: 0.75rem !important;
  color: var(--wa-text-tertiary) !important;
  margin-top: 0.25rem !important;
}

/* Estado vazio */
.empty-chats {
  text-align: center !important;
  padding: 2rem 1rem !important;
  color: var(--wa-text-tertiary) !important;
}

.empty-chats svg {
  color: var(--wa-icon-secondary) !important;
  margin-bottom: 1rem !important;
}

.empty-chats h4 {
  color: var(--wa-text-secondary) !important;
  margin-bottom: 0.5rem !important;
  font-size: 1.1rem !important;
}

.empty-chats p {
  color: var(--wa-text-tertiary) !important;
  font-size: 0.9rem !important;
}

/* Área principal do chat */
.chat-main {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  background: var(--wa-chat-bg) !important;
  height: 100vh !important;
}

.chat-main.mobile-hidden {
  display: none !important;
}

/* Header do chat principal */
.chat-main-header-compact {
  background: var(--wa-dark-secondary) !important;
  padding: 1rem 1.5rem !important;
  border-bottom: 1px solid var(--wa-border) !important;
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
}

.contact-info-compact {
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
}

.contact-avatar-compact {
  width: 40px !important;
  height: 40px !important;
  background: var(--wa-dark-tertiary) !important;
  border-radius: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  color: var(--wa-icon-primary) !important;
}

.contact-details-compact {
  display: flex !important;
  flex-direction: column !important;
}

.contact-name-compact {
  font-size: 1rem !important;
  font-weight: 500 !important;
  color: var(--wa-text-primary) !important;
  margin-bottom: 0.1rem !important;
}

.contact-number-compact {
  font-size: 0.8rem !important;
  color: var(--wa-text-secondary) !important;
  margin-bottom: 0.1rem !important;
}

.contact-status-compact {
  font-size: 0.75rem !important;
  color: var(--wa-text-tertiary) !important;
}

/* Ações do chat */
.chat-actions-compact {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
}

.btn-take-chat {
  background: var(--wa-green) !important;
  color: white !important;
  border: none !important;
  padding: 0.5rem 1rem !important;
  border-radius: 20px !important;
  font-size: 0.8rem !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  cursor: pointer !important;
  transition: background 0.2s ease !important;
}

.btn-take-chat:hover {
  background: var(--wa-green-dark) !important;
}

.status-dropdown-compact {
  position: relative !important;
}

.btn-status-compact {
  background: var(--wa-dark-tertiary) !important;
  color: var(--wa-text-primary) !important;
  border: none !important;
  padding: 0.5rem 0.75rem !important;
  border-radius: 20px !important;
  font-size: 0.75rem !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  cursor: pointer !important;
  transition: background 0.2s ease !important;
}

.btn-status-compact:hover {
  background: var(--wa-hover) !important;
}

.status-dropdown-menu {
  position: absolute !important;
  top: 100% !important;
  right: 0 !important;
  background: var(--wa-dark-secondary) !important;
  border: 1px solid var(--wa-border) !important;
  border-radius: 8px !important;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3) !important;
  z-index: 1000 !important;
  min-width: 180px !important;
  overflow: hidden !important;
  margin-top: 0.5rem !important;
}

.status-option {
  width: 100% !important;
  background: none !important;
  border: none !important;
  padding: 0.75rem 1rem !important;
  text-align: left !important;
  color: var(--wa-text-primary) !important;
  cursor: pointer !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
  font-size: 0.85rem !important;
  transition: background 0.15s ease !important;
}

.status-option:hover {
  background: var(--wa-hover) !important;
}

.btn-transfer-compact {
  background: var(--wa-dark-tertiary) !important;
  color: var(--wa-text-primary) !important;
  border: none !important;
  padding: 0.5rem 0.75rem !important;
  border-radius: 20px !important;
  font-size: 0.75rem !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  cursor: pointer !important;
  transition: background 0.2s ease !important;
}

.btn-transfer-compact:hover {
  background: var(--wa-hover) !important;
}

.btn-transfer-compact:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

/* Mensagens */
.chat-messages {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  background: var(--wa-chat-bg) !important;
  position: relative !important;
  height: 100% !important;
}

.messages-content {
  flex: 1 !important;
  overflow-y: auto !important;
  padding: 1.5rem 2rem !important;
  background-image: 
    radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.02) 1px, transparent 1px),
    radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.02) 1px, transparent 1px) !important;
  background-size: 30px 30px !important;
  scroll-behavior: smooth !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 0.75rem !important;
  min-height: 0 !important;
}

.message {
  display: flex !important;
  flex-direction: column !important;
  width: 100% !important;
  margin: 0 !important;
}

.message.customer {
  align-items: flex-start !important;
}

.message.human,
.message.bot {
  align-items: flex-end !important;
}

.message-content {
  max-width: 75% !important;
  min-width: 120px !important;
  border-radius: 10px !important;
  padding: 0.75rem 1rem !important;
  position: relative !important;
  word-wrap: break-word !important;
  word-break: break-word !important;
  white-space: pre-wrap !important;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15) !important;
  margin-bottom: 0.25rem !important;
}

.message.customer .message-content {
  background: var(--wa-received-msg) !important;
  color: var(--wa-text-primary) !important;
  border-bottom-left-radius: 3px !important;
  margin-left: 0 !important;
  margin-right: auto !important;
}

.message.human .message-content,
.message.bot .message-content {
  background: var(--wa-sent-msg) !important;
  color: var(--wa-text-primary) !important;
  border-bottom-right-radius: 3px !important;
  margin-left: auto !important;
  margin-right: 0 !important;
}

.message-text {
  font-size: 0.95rem !important;
  line-height: 1.45 !important;
  margin: 0 !important;
  padding: 0 !important;
  color: inherit !important;
  overflow-wrap: break-word !important;
  hyphens: auto !important;
}

.message-actions {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  margin-top: 0.5rem !important;
  padding-top: 0.25rem !important;
  border-top: 1px solid rgba(255, 255, 255, 0.05) !important;
  min-height: 20px !important;
}

.message-time {
  font-size: 0.75rem !important;
  color: var(--wa-text-tertiary) !important;
  opacity: 0.9 !important;
  margin-left: auto !important;
  margin-top: 0.25rem !important;
  align-self: flex-end !important;
  white-space: nowrap !important;
}

.reply-button {
  background: none !important;
  border: none !important;
  color: var(--wa-text-tertiary) !important;
  cursor: pointer !important;
  padding: 0.35rem !important;
  border-radius: 50% !important;
  opacity: 0 !important;
  transition: all 0.2s ease !important;
  width: 28px !important;
  height: 28px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.message:hover .reply-button {
  opacity: 1 !important;
}

.reply-button:hover {
  background: var(--wa-hover) !important;
  color: var(--wa-text-primary) !important;
}

/* Componentes de mídia */
.audio-player {
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
  background: rgba(0, 0, 0, 0.15) !important;
  padding: 1rem !important;
  border-radius: 12px !important;
  margin: 0.5rem 0 !important;
  min-width: 280px !important;
  border: 1px solid rgba(255, 255, 255, 0.05) !important;
}

.audio-info {
  flex: 1 !important;
  min-width: 0 !important;
}

.audio-filename {
  font-size: 0.9rem !important;
  color: var(--wa-text-primary) !important;
  margin-bottom: 0.5rem !important;
  font-weight: 500 !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

.audio-controls {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
  width: 100% !important;
}

.seek-bar {
  flex: 1 !important;
  height: 6px !important;
  background: rgba(255, 255, 255, 0.2) !important;
  border-radius: 3px !important;
  outline: none !important;
  border: none !important;
  cursor: pointer !important;
  appearance: none !important;
}

.seek-bar::-webkit-slider-thumb {
  appearance: none !important;
  width: 14px !important;
  height: 14px !important;
  border-radius: 50% !important;
  background: var(--wa-green) !important;
  cursor: pointer !important;
}

.time {
  font-size: 0.75rem !important;
  color: var(--wa-text-tertiary) !important;
  font-weight: 500 !important;
  min-width: 35px !important;
  text-align: center !important;
}

.document-viewer {
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
  background: rgba(0, 0, 0, 0.15) !important;
  padding: 1rem !important;
  border-radius: 12px !important;
  margin: 0.5rem 0 !important;
  min-width: 300px !important;
  border: 1px solid rgba(255, 255, 255, 0.05) !important;
  cursor: pointer !important;
  transition: background 0.2s ease !important;
}

.document-viewer:hover {
  background: rgba(0, 0, 0, 0.2) !important;
}

.document-icon {
  flex-shrink: 0 !important;
  width: 40px !important;
  height: 40px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  background: rgba(255, 255, 255, 0.1) !important;
  border-radius: 8px !important;
}

.document-info {
  flex: 1 !important;
  min-width: 0 !important;
}

.document-name {
  font-size: 0.9rem !important;
  color: var(--wa-text-primary) !important;
  margin-bottom: 0.25rem !important;
  font-weight: 500 !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

.document-size {
  font-size: 0.8rem !important;
  color: var(--wa-text-tertiary) !important;
  font-weight: 400 !important;
}

.document-actions {
  display: flex !important;
  gap: 0.5rem !important;
  flex-shrink: 0 !important;
}

.image-viewer {
  position: relative !important;
  display: inline-block !important;
  margin: 0.5rem 0 !important;
  border-radius: 12px !important;
  overflow: hidden !important;
  max-width: 100% !important;
}

.message-image {
  max-width: 400px !important;
  max-height: 400px !important;
  width: auto !important;
  height: auto !important;
  display: block !important;
  border-radius: 12px !important;
  cursor: pointer !important;
  transition: transform 0.2s ease !important;
}

.message-image:hover {
  transform: scale(1.02) !important;
}

.image-actions {
  display: flex !important;
  gap: 8px !important;
  align-items: center !important;
  margin-top: 8px !important;
  flex-wrap: wrap !important;
}

.video-viewer {
  position: relative !important;
  margin: 0.5rem 0 !important;
  border-radius: 12px !important;
  overflow: hidden !important;
  max-width: 100% !important;
}

.message-video {
  max-width: 400px !important;
  max-height: 400px !important;
  width: auto !important;
  height: auto !important;
  display: block !important;
  border-radius: 12px !important;
  background: #000 !important;
}

.video-actions {
  position: absolute !important;
  top: 0.75rem !important;
  right: 0.75rem !important;
  opacity: 0 !important;
  transition: opacity 0.2s ease !important;
  background: rgba(0, 0, 0, 0.6) !important;
  border-radius: 8px !important;
  padding: 0.25rem !important;
}

.video-viewer:hover .video-actions {
  opacity: 1 !important;
}

/* Input de mensagem - WhatsApp Web Dark 2025 */
.chat-input-fixed {
  background: var(--wa-dark-secondary) !important;
  padding: 0.75rem 1.25rem 1rem 1.25rem !important;
  border-top: 1px solid var(--wa-border) !important;
  position: relative !important;
  z-index: 10 !important;
}

/* Indicador de resposta melhorado */
.reply-indicator {
  background: var(--wa-dark-tertiary) !important;
  border: 1px solid var(--wa-border) !important;
  border-radius: 12px !important;
  padding: 0.75rem 1rem !important;
  margin-bottom: 0.75rem !important;
  position: relative !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
}

.reply-indicator::before {
  content: '' !important;
  position: absolute !important;
  left: 0 !important;
  top: 0 !important;
  bottom: 0 !important;
  width: 4px !important;
  background: var(--wa-green) !important;
  border-radius: 2px 0 0 2px !important;
}

.reply-content {
  display: flex !important;
  align-items: flex-start !important;
  gap: 0.75rem !important;
  padding-left: 0.75rem !important;
}

.reply-header {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  width: 100% !important;
  color: var(--wa-green) !important;
  font-size: 0.85rem !important;
  font-weight: 600 !important;
  margin-bottom: 0.4rem !important;
}

.cancel-reply {
  background: rgba(255, 255, 255, 0.1) !important;
  border: none !important;
  color: var(--wa-text-tertiary) !important;
  cursor: pointer !important;
  padding: 0.4rem !important;
  border-radius: 50% !important;
  width: 28px !important;
  height: 28px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  transition: all 0.2s ease !important;
}

.cancel-reply:hover {
  background: var(--wa-hover) !important;
  color: var(--wa-text-primary) !important;
  transform: scale(1.1) !important;
}

.reply-preview {
  font-size: 0.85rem !important;
  color: var(--wa-text-secondary) !important;
  line-height: 1.4 !important;
  padding-left: 0.75rem !important;
  border-left: 1px solid rgba(255, 255, 255, 0.1) !important;
  margin-left: -0.75rem !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  display: -webkit-box !important;
  -webkit-line-clamp: 2 !important;
  line-clamp: 2 !important;
  -webkit-box-orient: vertical !important;
}

/* Botões de ação do input */
.input-actions {
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
  margin-right: 0.5rem !important;
}

.action-btn {
  width: 32px !important;
  height: 32px !important;
  background: none !important;
  border: none !important;
  border-radius: 50% !important;
  color: var(--wa-icon-secondary) !important;
  cursor: pointer !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  transition: all 0.2s ease !important;
}

.action-btn:hover {
  background: var(--wa-hover) !important;
  color: var(--wa-text-primary) !important;
  transform: scale(1.1) !important;
}

.emoji-btn:hover {
  color: var(--wa-yellow) !important;
}

.upload-btn:hover {
  color: var(--wa-blue) !important;
}

/* Emoji Picker */
.emoji-picker {
  position: absolute !important;
  bottom: 100% !important;
  left: 0 !important;
  right: 0 !important;
  background: var(--wa-dark-secondary) !important;
  border: 1px solid var(--wa-border) !important;
  border-radius: 12px !important;
  margin-bottom: 0.5rem !important;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3) !important;
  z-index: 1000 !important;
  max-height: 200px !important;
  overflow: hidden !important;
}

.emoji-header {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  padding: 0.75rem 1rem !important;
  border-bottom: 1px solid var(--wa-border) !important;
  background: var(--wa-dark-tertiary) !important;
}

.emoji-header span {
  font-size: 0.85rem !important;
  color: var(--wa-text-primary) !important;
  font-weight: 500 !important;
}

.close-emoji {
  background: none !important;
  border: none !important;
  color: var(--wa-text-tertiary) !important;
  cursor: pointer !important;
  padding: 0.25rem !important;
  border-radius: 50% !important;
  transition: all 0.2s ease !important;
}

.close-emoji:hover {
  background: var(--wa-hover) !important;
  color: var(--wa-text-primary) !important;
}

.emoji-grid {
  display: grid !important;
  grid-template-columns: repeat(10, 1fr) !important;
  gap: 0.25rem !important;
  padding: 0.75rem !important;
  max-height: 140px !important;
  overflow-y: auto !important;
}

.emoji-btn {
  width: 32px !important;
  height: 32px !important;
  background: none !important;
  border: none !important;
  border-radius: 6px !important;
  cursor: pointer !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 1.2rem !important;
  transition: all 0.2s ease !important;
}

.emoji-btn:hover {
  background: var(--wa-hover) !important;
  transform: scale(1.2) !important;
}

/* Container principal do input melhorado */
.input-container {
  display: flex !important;
  align-items: flex-end !important;
  gap: 0.75rem !important;
  position: relative !important;
  background: var(--wa-dark-bg) !important;
  border-radius: 24px !important;
  padding: 0.25rem 0.25rem 0.25rem 1rem !important;
  border: 1px solid rgba(255, 255, 255, 0.05) !important;
  transition: all 0.2s ease !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12) !important;
}

.input-container:hover {
  border-color: rgba(255, 255, 255, 0.1) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
}

.input-container:focus-within {
  border-color: var(--wa-green) !important;
  box-shadow: 0 0 0 1px var(--wa-green), 0 2px 8px rgba(0, 168, 132, 0.15) !important;
}

/* Botões de ação à esquerda do input */
.input-actions-left {
  display: flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
  margin-right: 0.5rem !important;
}

.input-action-btn {
  width: 32px !important;
  height: 32px !important;
  background: none !important;
  border: none !important;
  border-radius: 50% !important;
  color: var(--wa-icon-secondary) !important;
  cursor: pointer !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  transition: all 0.2s ease !important;
}

.input-action-btn:hover {
  background: var(--wa-hover) !important;
  color: var(--wa-text-primary) !important;
  transform: scale(1.1) !important;
}

/* Textarea melhorada */
.input-container textarea {
  flex: 1 !important;
  background: transparent !important;
  border: none !important;
  padding: 0rem 0 !important;
  color: var(--wa-text-primary) !important;
  font-size: 0.95rem !important;
  line-height: 1.4 !important;
  resize: none !important;
  outline: none !important;
  max-height: 120px !important;
  min-height: 24px !important;
  font-family: inherit !important;
  overflow-y: auto !important;
  scrollbar-width: thin !important;
  scrollbar-color: var(--wa-border) transparent !important;
}

.input-container textarea::-webkit-scrollbar {
  width: 4px !important;
}

.input-container textarea::-webkit-scrollbar-track {
  background: transparent !important;
}

.input-container textarea::-webkit-scrollbar-thumb {
  background: var(--wa-border) !important;
  border-radius: 2px !important;
}

.input-container textarea::placeholder {
  color: var(--wa-text-tertiary) !important;
  font-size: 0.95rem !important;
}

.input-container textarea:disabled {
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

/* Botão de envio melhorado */
.btn-send {
  width: 42px !important;
  height: 42px !important;
  background: var(--wa-green) !important;
  border: none !important;
  border-radius: 50% !important;
  color: white !important;
  cursor: pointer !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  transition: all 0.2s ease !important;
  flex-shrink: 0 !important;
  box-shadow: 0 2px 8px rgba(0, 168, 132, 0.3) !important;
  position: relative !important;
  overflow: hidden !important;
}

.btn-send::before {
  content: '' !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent) !important;
  transform: translateX(-100%) !important;
  transition: transform 0.6s ease !important;
}

.btn-send:hover::before {
  transform: translateX(100%) !important;
}

.btn-send:hover {
  background: var(--wa-green-dark) !important;
  transform: scale(1.05) !important;
  box-shadow: 0 4px 12px rgba(0, 168, 132, 0.4) !important;
}

.btn-send:active {
  transform: scale(0.95) !important;
  transition: transform 0.1s ease !important;
}

.btn-send:disabled {
  background: var(--wa-text-tertiary) !important;
  cursor: not-allowed !important;
  transform: none !important;
  box-shadow: none !important;
}

.btn-send:disabled::before {
  display: none !important;
}

/* Indicador de digitação */
.typing-indicator {
  position: absolute !important;
  bottom: 100% !important;
  left: 1rem !important;
  background: var(--wa-dark-tertiary) !important;
  color: var(--wa-text-secondary) !important;
  font-size: 0.8rem !important;
  padding: 0.5rem 0.75rem !important;
  border-radius: 12px 12px 12px 4px !important;
  margin-bottom: 0.5rem !important;
  border: 1px solid var(--wa-border) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
  opacity: 0 !important;
  transform: translateY(10px) !important;
  transition: all 0.3s ease !important;
}

.typing-indicator.visible {
  opacity: 1 !important;
  transform: translateY(0) !important;
}

/* Melhorias para estados especiais */
.input-container.has-text {
  border-color: rgba(255, 255, 255, 0.08) !important;
}

.input-container.replying {
  border-color: var(--wa-green) !important;
  box-shadow: 0 0 0 1px rgba(0, 168, 132, 0.3) !important;
}

/* Animações suaves */
@keyframes inputFocus {
  from {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
  }
  to {
    box-shadow: 0 0 0 1px var(--wa-green), 0 2px 8px rgba(0, 168, 132, 0.15);
  }
}

@keyframes sendButton {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

.btn-send.sending {
  animation: sendButton 0.3s ease !important;
}

/* Estado sem chat selecionado */
.no-chat-selected {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  flex: 1 !important;
  color: var(--wa-text-tertiary) !important;
  text-align: center !important;
  padding: 2rem !important;
}

.no-chat-selected svg {
  color: var(--wa-icon-secondary) !important;
  margin-bottom: 1rem !important;
}

.no-chat-selected h3 {
  color: var(--wa-text-secondary) !important;
  margin-bottom: 0.5rem !important;
  font-size: 1.2rem !important;
}

.no-chat-selected p {
  color: var(--wa-text-tertiary) !important;
  font-size: 0.9rem !important;
}

/* Modais */
.modal-overlay {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  background: rgba(0, 0, 0, 0.6) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  z-index: 10000 !important;
  padding: 1rem !important;
}

.modal-content {
  background: var(--wa-dark-secondary) !important;
  border-radius: 12px !important;
  border: 1px solid var(--wa-border) !important;
  max-width: 500px !important;
  width: 100% !important;
  max-height: 80vh !important;
  overflow: hidden !important;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4) !important;
}

.modal-header {
  background: var(--wa-dark-tertiary) !important;
  padding: 1.5rem !important;
  border-bottom: 1px solid var(--wa-border) !important;
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
}

.modal-header h3 {
  color: var(--wa-text-primary) !important;
  margin: 0 !important;
  font-size: 1.1rem !important;
}

.modal-close {
  background: none !important;
  border: none !important;
  color: var(--wa-text-tertiary) !important;
  cursor: pointer !important;
  padding: 0.5rem !important;
  border-radius: 50% !important;
  transition: all 0.2s ease !important;
}

.modal-close:hover {
  background: var(--wa-hover) !important;
  color: var(--wa-text-primary) !important;
}

.modal-body {
  padding: 1.5rem !important;
  color: var(--wa-text-primary) !important;
  max-height: 60vh !important;
  overflow-y: auto !important;
}

.modal-footer {
  background: #1f2020 !important;
  padding: 0rem 2.5rem !important;
  border-top: 1px solid #1f2020 !important;
  display: flex !important
;
  justify-content: flex-end !important;
  gap: .75rem !important;
}

/* Botões dos modais */
.btn-cancel {
  background: var(--wa-dark-tertiary) !important;
  color: var(--wa-text-primary) !important;
  border: none !important;
  padding: 0.75rem 1.5rem !important;
  border-radius: 20px !important;
  cursor: pointer !important;
  font-size: 0.9rem !important;
  transition: background 0.2s ease !important;
}

.btn-cancel:hover {
  background: var(--wa-hover) !important;
}

.btn-confirm {
  background: var(--wa-green) !important;
  color: white !important;
  border: none !important;
  padding: 0.75rem 1.5rem !important;
  border-radius: 20px !important;
  cursor: pointer !important;
  font-size: 0.9rem !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  transition: background 0.2s ease !important;
}

.btn-confirm:hover {
  background: var(--wa-green-dark) !important;
}

.btn-confirm:disabled {
  background: var(--wa-text-tertiary) !important;
  cursor: not-allowed !important;
}

.btn-secondary {
  background: var(--wa-blue) !important;
  color: white !important;
  border: none !important;
  padding: 0.75rem 1.5rem !important;
  border-radius: 20px !important;
  cursor: pointer !important;
  font-size: 0.9rem !important;
  transition: background 0.2s ease !important;
}

.btn-secondary:hover {
  background: #3ea6d3 !important;
}

.btn-take {
  background: var(--wa-green) !important;
}

.btn-accept-transfer {
  background: var(--wa-green) !important;
  color: white !important;
  border: none !important;
  padding: 0.75rem 1.5rem !important;
  border-radius: 20px !important;
  cursor: pointer !important;
  font-size: 0.9rem !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  transition: background 0.2s ease !important;
}

.btn-accept-transfer:hover {
  background: var(--wa-green-dark) !important;
}

.btn-reject-transfer {
  background: var(--wa-red) !important;
  color: white !important;
  border: none !important;
  padding: 0.75rem 1.5rem !important;
  border-radius: 20px !important;
  cursor: pointer !important;
  font-size: 0.9rem !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  transition: background 0.2s ease !important;
}

.btn-reject-transfer:hover {
  background: #ff5252 !important;
}

/* Formulários */
.form-group {
  margin-bottom: 1.5rem !important;
}

.form-group label {
  display: block !important;
  margin-bottom: 0.5rem !important;
  color: var(--wa-text-primary) !important;
  font-size: 0.9rem !important;
  font-weight: 500 !important;
}

/* Checkbox group específico */
.form-group.checkbox-group {
  margin-bottom: 1rem !important;
}

.form-group.checkbox-group label {
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
  margin-bottom: 0 !important;
  cursor: pointer !important;
  user-select: none !important;
}

.form-group.checkbox-group input[type="checkbox"] {
  width: 16px !important;
  height: 16px !important;
  margin: 0 !important;
  flex-shrink: 0 !important;
  cursor: pointer !important;
  accent-color: var(--wa-green) !important;
}

.form-group.checkbox-group span {
  display: inline-flex !important;
  align-items: center !important;
  line-height: 1 !important;
  font-weight: bold !important;
  color: var(--wa-text-primary) !important;
}

.form-group input,
.form-group textarea,
.form-group select {
  width: 100% !important;
  padding: 0.75rem !important;
  background: var(--wa-dark-bg) !important;
  border: 1px solid var(--wa-border) !important;
  border-radius: 8px !important;
  color: var(--wa-text-primary) !important;
  font-size: 0.9rem !important;
  outline: none !important;
  transition: border-color 0.2s ease !important;
}

.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
  border-color: var(--wa-green) !important;
}

.form-group input::placeholder,
.form-group textarea::placeholder {
  color: var(--wa-text-tertiary) !important;
}

/* Responsividade */
@media (max-width: 768px) {
  .chat-sidebar {
    width: 100% !important;
    height: auto !important;
  }
  
  .chat-main {
    height: calc(100vh - 60px) !important;
  }
  
  .messages-content {
    padding: 1rem 1rem !important;
    gap: 0.5rem !important;
  }
  
  .chat-input-fixed {
    padding: 0.5rem 0.75rem 0.75rem 0.75rem !important;
  }
  
  .input-container {
    border-radius: 20px !important;
    padding: 0.2rem 0.2rem 0.2rem 0.75rem !important;
  }
  
  .input-container textarea {
    padding: 0.6rem 0 !important;
    font-size: 0.9rem !important;
  }
  
  .btn-send {
    width: 38px !important;
    height: 38px !important;
  }
  
  .reply-indicator {
    padding: 0.6rem 0.75rem !important;
    margin-bottom: 0.5rem !important;
  }
  
  .message-content {
    max-width: 90% !important;
    padding: 0.65rem 0.85rem !important;
  }
  
  .message-text {
    font-size: 0.9rem !important;
  }
  
  .audio-player {
    min-width: 250px !important;
    padding: 0.75rem !important;
  }
  
  .document-viewer {
    min-width: 260px !important;
    padding: 0.75rem !important;
  }
  
  .message-image {
    max-width: 300px !important;
    max-height: 300px !important;
  }
  
  .message-video {
    max-width: 300px !important;
    max-height: 300px !important;
  }
  
  .modal-content {
    margin: 1rem !important;
    max-width: none !important;
  }
  
  .chat-main-header-compact {
    padding: 0.75rem 1rem !important;
  }
  
  .contact-info-compact {
    gap: 0.75rem !important;
  }
  
  .chat-actions-compact {
    gap: 0.25rem !important;
  }
  
  .btn-status-compact,
  .btn-transfer-compact {
    padding: 0.4rem 0.6rem !important;
    font-size: 0.7rem !important;
  }
}

/* Scrollbar personalizada */
.chat-list::-webkit-scrollbar,
.messages-content::-webkit-scrollbar,
.modal-body::-webkit-scrollbar {
  width: 6px !important;
}

.chat-list::-webkit-scrollbar-track,
.messages-content::-webkit-scrollbar-track,
.modal-body::-webkit-scrollbar-track {
  background: var(--wa-dark-bg) !important;
}

.chat-list::-webkit-scrollbar-thumb,
.messages-content::-webkit-scrollbar-thumb,
.modal-body::-webkit-scrollbar-thumb {
  background: var(--wa-border) !important;
  border-radius: 3px !important;
}

.chat-list::-webkit-scrollbar-thumb:hover,
.messages-content::-webkit-scrollbar-thumb:hover,
.modal-body::-webkit-scrollbar-thumb:hover {
  background: var(--wa-hover) !important;
}

/* Animações */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.message {
  animation: fadeIn 0.2s ease-out !important;
}

.unread-badge {
  animation: fadeIn 0.3s ease-out !important;
}

/* Efeitos visuais */
.chat-item-compact,
.message:hover .reply-button,
.btn-send,
.filter-btn-compact,
.status-option {
  transition: all 0.15s ease !important;
}

/* Estados especiais */
.chat-item-compact.transfer_pending {
  border-left: 3px solid #8b5cf6 !important;
}

.chat-item-compact.pending {
  border-left: 3px solid var(--wa-yellow) !important;
}

/* Melhorias para quebra de texto e espaçamento */
.message-content {
  overflow-wrap: anywhere !important;
  word-break: break-word !important;
  hyphens: auto !important;
  text-align: left !important;
}

.message-text {
  white-space: pre-wrap !important;
  word-spacing: normal !important;
  letter-spacing: normal !important;
  text-rendering: optimizeLegibility !important;
}

/* Ajuste de espaçamento entre mensagens consecutivas */
.message + .message {
  margin-top: 0.25rem !important;
}

/* Espaçamento maior entre mensagens de usuários diferentes */
.message.customer + .message.human,
.message.customer + .message.bot,
.message.human + .message.customer,
.message.bot + .message.customer {
  margin-top: 1rem !important;
}

/* Melhor espaçamento interno das mensagens */
.message-content {
  line-height: 1.5 !important;
}

/* Timestamp mais integrado */
.message-time {
  margin-top: 0.35rem !important;
  text-align: right !important;
  direction: ltr !important;
}

/* Melhoria para mensagens longas */
.message-content {
  min-height: 20px !important;
}

/* Suavizar transições */
.message-content,
.audio-player,
.document-viewer,
.image-viewer,
.video-viewer {
  transition: all 0.15s ease-in-out !important;
}

/* Melhoria no contraste para melhor leitura */
.message.customer .message-content {
  background: #202c33 !important;
  border: 1px solid rgba(255, 255, 255, 0.05) !important;
}

.message.human .message-content,
.message.bot .message-content {
  background: #005c4b !important;
  border: 1px solid rgba(255, 255, 255, 0.05) !important;
}
